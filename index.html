<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="playerSelection" style="margin-bottom: 30px;">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>

    <div id="scoreboard">Scoreboard

        <p id="playerScore"></p>
        <p id="computerScore"></p>
        <p id="winMessage"></p>

    </div>


    <script>

        let playerWinCount = 0;
        let computerWinCount = 0;
        let drawnGameCount = 0;
        let getPlayerChoice;

        const rockButton = document.querySelector("#rock");
        const paperButton = document.querySelector("#paper");
        const scissorsButton = document.querySelector("#scissors");
        const playerSelection = document.querySelector("#playerSelection");
        const playerScore = document.querySelector("#playerScore");
        const computerScore = document.querySelector("#computerScore");
        const winMessage = document.querySelector('#winMessage');

        rockButton.addEventListener('click', () => {
            getPlayerChoice = "rock";
            console.log("You chose " + getPlayerChoice);
            console.log(playRound());
            console.log(tallyScore());
        });

        paperButton.addEventListener('click', () => {
            getPlayerChoice = "paper";
            console.log("You chose " + getPlayerChoice);
            console.log(playRound());
            console.log(tallyScore());
        });

        scissorsButton.addEventListener('click', () => {
            getPlayerChoice = "scissors";
            console.log("You chose " + getPlayerChoice);
            console.log(playRound());
            console.log(tallyScore());
        });


        function playRound() {
            const choices = ["rock", "paper", "scissors"];
            let getComputerChoice = choices[Math.floor(Math.random() * 3)];
            console.log("Computer chose " + getComputerChoice);

            const playerChoice = getPlayerChoice;
            const computerChoice = getComputerChoice;
            const playerWins = "You win! " + playerChoice + " beats " + computerChoice;
            const computerWins = "You lose! " + computerChoice + " beats " + playerChoice;
            const drawnGame = "Its a tie!";


            if ((playerChoice === 'rock' && computerChoice === 'scissors')
                || (playerChoice === 'paper' && computerChoice === 'rock')
                || (playerChoice === 'scissors' && computerChoice === 'paper')) {
                playerWinCount++;
                return playerWins;

            } else if
                ((playerChoice === 'rock' && computerChoice === 'paper')
                || (playerChoice === 'paper' && computerChoice === 'scissors')
                || (playerChoice === 'scissors' && computerChoice === 'rock')) {
                computerWinCount++;
                return computerWins;

            } else {
                drawnGameCount++;
                return drawnGame;
            }

        }

        function tallyScore() {
            computerScore.textContent = "Computer score: " + computerWinCount;
            playerScore.textContent = "Player score: " + playerWinCount

            if (playerWinCount === 5 || computerWinCount === 5) {
                if (playerWinCount > computerWinCount) {
                    winMessage.textContent = "Well done, you win!";
                } else {
                    winMessage.textContent = "You lose! Better luck next time!";
                }
                rockButton.disabled = true;
                paperButton.disabled = true;
                scissorsButton.disabled = true;
            }


        };


    </script>
</body>

</html>